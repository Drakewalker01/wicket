<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stream Gateway | HIT Wicket</title>
    
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='50' r='45' fill='%2300f3ff'/></svg>">
    
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,400;0,700;0,900;1,900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />

    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['Rajdhani', 'sans-serif'], body: ['Montserrat', 'sans-serif'] },
                    colors: { neonBlue: '#00f3ff', neonPurple: '#bc13fe' }
                }
            }
        }
    </script>
    
    <style>
        :root {
            --site-bg-dark: #050b14;
            --site-accent-cyan: #00d2ff; 
            --glass-bg: rgba(20, 30, 48, 0.7);
        }

        .glass-panel { 
            background: rgba(15, 23, 42, 0.6); 
            backdrop-filter: blur(20px); 
            -webkit-backdrop-filter: blur(20px); 
            border-bottom: 1px solid rgba(255, 255, 255, 0.05); 
        }

        body {
            margin: 0;
            padding: 0;
            font-family: 'Montserrat', sans-serif;
            background: radial-gradient(circle at top left, #004e92, transparent 40%),
                        radial-gradient(circle at bottom right, #560a5c, transparent 40%),
                        #02040a;
            color: white;
            display: flex;
            justify-content: center;
            align-items: center; 
            height: 100vh;           
            width: 100vw;            
            overflow: hidden;
            position: relative;
        }

        .card {
            background: var(--glass-bg);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            padding: 40px 25px;
            border-radius: 16px;
            border: 1px solid rgba(255, 255, 255, 0.08);
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
            text-align: center;
            width: 85%;              
            max-width: 380px;
            box-sizing: border-box;
            z-index: 10;
        }

        .card-logo-text {
            font-family: 'Rajdhani', sans-serif;
            font-size: 32px;
            font-weight: 800;
            font-style: italic;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: white;
            margin-bottom: 5px;
        }
        .logo-accent { color: var(--site-accent-cyan); }

        h2 { font-size: 18px; font-weight: 600; margin: 10px 0; color: #e0e6ed; }

        .subtitle {
            color: #94a3b8;
            font-size: 12px;
            line-height: 1.5;
            margin-bottom: 30px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            padding-bottom: 15px;
        }

        .btn {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            padding: 16px 20px;
            border: none;
            border-radius: 8px;
            font-size: 15px;
            font-weight: 700;
            text-transform: uppercase;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 20px;
            font-family: 'Montserrat', sans-serif;
            box-sizing: border-box;
        }

        .btn-task {
            background: linear-gradient(90deg, #00d2ff, #3a7bd5);
            color: #000;
            box-shadow: 0 0 20px rgba(0, 210, 255, 0.4);
        }

        .btn-task.completed {
            background: rgba(255, 255, 255, 0.1) !important;
            color: #888 !important;
            box-shadow: none !important;
            cursor: default;
        }

        .btn-final {
            background: rgba(255, 255, 255, 0.05);
            color: #555;
            cursor: not-allowed;
            margin-bottom: 0;
        }

        .btn-final.active {
            background: linear-gradient(90deg, #00d2ff, #3a7bd5);
            color: #000;
            box-shadow: 0 0 25px rgba(0, 210, 255, 0.6);
            animation: pulseCyan 2s infinite;
            cursor: pointer;
        }

        @keyframes pulseCyan {
            0% { box-shadow: 0 0 0 0 rgba(0, 210, 255, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(0, 210, 255, 0); }
            100% { box-shadow: 0 0 0 0 rgba(0, 210, 255, 0); }
        }

        .icon { width: 22px; height: 22px; fill: currentColor; }

        .progress-section { margin: 25px 0; }
        .progress-text {
            color: #64748b;
            font-size: 11px;
            font-weight: 700;
            text-transform: uppercase;
            margin-bottom: 8px;
            display: block;
        }
        .progress-track {
            background: rgba(255,255,255,0.1);
            height: 4px;
            border-radius: 10px;
            overflow: hidden;
        }
        .progress-fill {
            background: var(--site-accent-cyan);
            height: 100%;
            width: 0%;
            transition: width 0.6s ease;
            box-shadow: 0 0 10px var(--site-accent-cyan);
        }

        @media (max-width: 480px) {
            .card { padding: 30px 20px; width: 85%; }
            .card-logo-text { font-size: 26px; }
            h2 { font-size: 16px; }
            .subtitle { font-size: 11px; }
            .btn { padding: 14px 15px; font-size: 13px; }
            .icon { width: 18px; height: 18px; }
        }
    </style>
</head>
<body>

    <nav class="w-full glass-panel fixed top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 h-20 flex items-center justify-between">
            <a href="index" class="flex items-center gap-2 hover:opacity-90 transition-opacity no-underline">
                <i class="fas fa-cricket text-3xl text-neonBlue"></i>
                <h1 class="text-3xl font-bold italic uppercase tracking-wider text-white" style="font-family: 'Rajdhani', sans-serif;">Hit<span class="text-neonBlue">Wicket</span></h1>
            </a>
            <div class="px-3 py-1 rounded-full bg-red-500/10 border border-red-500/50 flex items-center gap-2">
                <span class="relative flex h-2 w-2">
                    <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-red-500 opacity-75"></span>
                    <span class="relative inline-flex rounded-full h-2 w-2 bg-red-600 shadow-[0_0_10px_#ef4444]"></span>
                </span>
                <span class="text-[10px] font-bold text-red-400 uppercase tracking-widest">Live Now</span>
            </div>
        </div>
    </nav>

    <div class="card">
        <div class="logo-container">
            <div class="card-logo-text"><span class="logo-accent">HIT</span>WICKET</div>
        </div>
        <h2>Hi, Cricket Lovers</h2>
        <p class="subtitle">To keep this service free, please help us cover server and maintenance costs. ❤️</p>

        <button id="taskBtn" class="btn btn-task" onclick="doTask()">
            <svg class="icon" viewBox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></svg>
            <span id="taskText">Click Here to Unlock</span>
            <svg id="taskIcon" class="icon" viewBox="0 0 24 24"><path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"></path></svg>
        </button>

        <div class="progress-section">
            <span class="progress-text" id="progText">Steps Completed 0 / 1</span>
            <div class="progress-track"><div class="progress-fill" id="progBar"></div></div>
        </div>

        <button id="finalBtn" class="btn btn-final" disabled onclick="goNext()">
            <svg class="icon" viewBox="0 0 24 24"><path d="M13.13 22.19l-1.63-3.83c1.57-.58 3.04-1.36 4.4-2.27l-2.77 6.1zM5.6 10.25c0 2.58 1.56 4.81 3.91 5.75-.42-.64-.69-1.4-.77-2.2l-3.14-3.55zm7.4-4.85c2.58 0 4.81 1.56 5.75 3.91-.64-.42-1.4-.69-2.2-.77L13 5.4zm2.18 10.7l-2.58 1.5c-.32.19-.73.08-.92-.24L10.2 14.8c-.19-.32-.08-.73.24-.92l2.58-1.5c.32-.19.73-.08.92.24l1.48 2.56c.19.32.08.73-.24.92zM21 11c0 5.52-4.48 10-10 10S1 16.52 1 11 5.48 1 11 1s10 4.48 10 10z"></path></svg>
            <span>Watch Full HD Channels</span>
            <svg class="icon" viewBox="0 0 24 24"><path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"></path></svg>
        </button>
    </div>

    <script>
        let taskStartTime = 0;
        const AD_URL = 'https://otieu.com/4/10589874';
        const FINAL_URL = 'https://hitwicket.online/highquality';

        // Check session storage on load
        window.onload = () => {
            if (sessionStorage.getItem("user_auth") === "valid_session") {
                unlockUI();
            }
        };

        function doTask() {
            if (sessionStorage.getItem("user_auth") === "valid_session") return;

            taskStartTime = Date.now();
            window.open(AD_URL, '_blank');
            
            // Interaction update
            document.getElementById('taskText').innerText = "Checking... ⏳";
        }

        // Verification Logic when user returns to tab
        window.onfocus = () => {
            if (taskStartTime === 0 || sessionStorage.getItem("user_auth") === "valid_session") return;

            const timeSpent = (Date.now() - taskStartTime) / 1000;

            if (timeSpent >= 1) { // Smart check: must stay at least 5 seconds
                sessionStorage.setItem("user_auth", "valid_session");
                unlockUI();
            } else {
                // Reset if they came back too fast
                taskStartTime = 0;
                document.getElementById('taskText').innerText = "Click Here to Unlock";
                alert("Wait 2 seconds before going back..!");
            }
        };

        function unlockUI() {
            const taskBtn = document.getElementById('taskBtn');
            const taskText = document.getElementById('taskText');
            const taskIcon = document.getElementById('taskIcon');
            const progBar = document.getElementById('progBar');
            const progText = document.getElementById('progText');
            const finalBtn = document.getElementById('finalBtn');

            // Update Task Button
            taskBtn.classList.add('completed');
            taskBtn.onclick = null; 
            taskText.innerText = "Task Completed";
            taskIcon.innerHTML = '<path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"></path>';
            taskIcon.style.fill = "#00d2ff"; 

            // Update Progress (Keeping your original label format)
            progBar.style.width = "100%";
            progText.innerText = "Steps Completed 1 / 1";
            progText.style.color = "#00d2ff";

            // Enable Final Button
            finalBtn.disabled = false;
            finalBtn.classList.add('active');
        }

        function goNext() {
            window.location.href = FINAL_URL;
        }
    </script>
</body>
</html>
